language: cpp
sudo: false

compiler:
 - gcc
 - clang

install:
 - if [ "$CXX" = "g++" ]; then export CXX="g++-4.8" CC="gcc-4.8"; fi 

addons:
 apt:
  sources:
   - ubuntu-toolchain-r-test
  packages:
   - gcc-4.8
   - g++-4.8
   - clang
 
script:
 - mkdir build
 - cd build
 - cmake -DCMAKE_CXX_COMPILER=$COMPILER .. && make

after_success:
 - bash <(curl -s https://codecov.io/bash)
 
notifications:
 email: false